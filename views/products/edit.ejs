<% layout('layouts/boilerplate') %>

<h1>Edit Product</h1>
<form action="/products/<%= product._id %>?_method=PUT" method="POST" enctype="multipart/form-data">
    <!-- Name -->
    <label for="name">Product Name:</label>
    <input type="text" id="name" name="product[name]" value="<%= product.name %>" required><br><br>

    <!-- Description -->
    <label for="description">Description:</label><br>
    <textarea id="description" name="product[description]" rows="4" required><%= product.description %></textarea><br><br>

    <!-- Category -->
    <label for="category">Category:</label>
    <select id="category" name="product[category]" required>
        <option value="computers" <%= product.category === 'computers' ? 'selected' : '' %>>Computers</option>
        <option value="smartphones" <%= product.category === 'smartphones' ? 'selected' : '' %>>Smartphones</option>
        <option value="watches" <%= product.category === 'watches' ? 'selected' : '' %>>Watches</option>
        <option value="tv" <%= product.category === 'tv' ? 'selected' : '' %>>TV</option>
        <option value="tables" <%= product.category === 'tables' ? 'selected' : '' %>>Tables</option>
        <option value="gaming" <%= product.category === 'gaming' ? 'selected' : '' %>>Gaming</option>
    </select><br><br>

    <!-- SKU -->
    <label for="sku">SKU:</label>
    <input type="text" id="sku" name="product[sku]" value="<%= product.sku %>" required><br><br>

    <!-- Price -->
    <label for="price">Price (USD):</label>
    <input type="number" id="price" name="product[price]" value="<%= product.price %>" step="0.01" min="0" required><br><br>

    <!-- Stock Quantity -->
    <label for="stockQuantity">Stock Quantity:</label>
    <input type="number" id="stockQuantity" name="product[stockQuantity]" value="<%= product.stockQuantity %>" min="0" required><br><br>

    <!-- Image(s) -->
    <label for="image">Add Image(s):</label>
    <input type="file" id="image" name="image" multiple><br><br>

    <!-- Currency (hidden) -->
    <input type="hidden" name="product[currency]" value="USD">
    
    <!-- Submit -->
    <button type="submit">Update</button>
</form>
